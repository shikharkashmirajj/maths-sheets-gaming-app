<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Study Tracker App</title>
  <meta name="theme-color" content="#0f172a"/>
  <style>
    :root { --bg:#f5f5f5; --ink:#0f172a; --card:#fff; --brand:#1e293b; --ok:#4CAF50; --warn:#e63946; }
    body { font-family: Arial, sans-serif; background:var(--bg); margin:0; text-align:center; padding-bottom:80px; }
    h1 { background:var(--ink); color:#fff; margin:0; padding:14px; font-size:20px;}
    .page { display:none; padding:12px 10px 70px; }
    .page.active { display:block; }
    .card { background:var(--card); margin:12px auto; padding:16px; width:min(720px,90%); border-radius:14px; box-shadow:0 2px 8px rgba(0,0,0,0.08); text-align:left; }
    .row { display:flex; justify-content:space-between; align-items:center; margin:8px 0; }
    .progress-container { margin:10px 0; background:#e5e7eb; height:20px; border-radius:10px; overflow:hidden; }
    .progress-bar { height:100%; width:0%; background:var(--ok); color:#fff; font-size:12px; line-height:20px; text-align:center; }
    .btn { border:none; border-radius:8px; padding:6px 12px; font-weight:700; cursor:pointer; color:#fff; background:var(--ok); }
    .btn.warn { background:var(--warn); }
    .btn:disabled { opacity:.65; cursor:default; }
    .pill { font-size:12px; background:#eef2ff; color:#334155; padding:4px 8px; border-radius:999px; }
    .big { font-size:18px; font-weight:700; }
    .bottom-nav { position:fixed; bottom:0; left:0; width:100%; background:var(--brand); display:flex; justify-content:space-around; padding:10px 0; box-shadow:0 -2px 6px rgba(0,0,0,.25); }
    .bottom-nav button { background:none; border:none; color:#fff; cursor:pointer; display:flex; flex-direction:column; align-items:center; }
    .bottom-nav button.active { color:var(--ok); font-weight:700; }
  </style>
</head>
<body>
  <h1>📚 Study Tracker</h1>

  <!-- PAGE 1: MATHS -->
  <section id="maths" class="page active">
    <div class="card">
      <div>⭐ XP: <span class="big" id="points">0</span></div>
      <div>🔥 Streak: <span id="streak">0</span> days</div>
      <h3 style="margin:12px 0 6px;">🎯 Daily Maths Progress (50 Q)</h3>
      <div class="progress-container"><div id="mathsBar" class="progress-bar">0/50</div></div>
    </div>

    <div class="card">
      <h3>📘 Maths Topics</h3>
      <div id="topics"></div>
      <hr/>
      <div class="row"><span>📝 Mock Test</span><button class="btn" onclick="addXP(500)">+500 XP</button></div>
      <div class="row"><span>📖 Revision Notes</span><button class="btn" onclick="addXP(200)">+200 XP</button></div>
    </div>
    <div class="card" style="text-align:center;">
      <button class="btn warn" onclick="resetProgress()">🔄 Reset All Progress</button>
    </div>
  </section>

  <!-- PAGE 2: DAILY TASKS -->
  <section id="daily" class="page">
    <div class="card">
      <h3>📅 Daily Study Tracker</h3>
      <div>⭐ Today’s XP: <span class="big" id="todayXP">0</span></div>
      <div class="progress-container"><div id="dailyBar" class="progress-bar">0/6</div></div>
      <div id="dailyTasks"></div>
    </div>
  </section>

  <!-- PAGE 3: TROPHY -->
  <section id="trophy" class="page">
    <div class="card" style="text-align:center;">
      <div class="big">🏆 <span id="rankText">Loading...</span></div>
      <div>Total XP: <strong id="pointsRank">0</strong></div>
    </div>
    <div class="card">
      <h3>Rank Ladder</h3>
      <p>🥉 0–10,000 XP → Apprentice</p>
      <p>⚡ 10,001–25,000 XP → Speed Solver</p>
      <p>🥷 25,001–50,000 XP → Shortcut Ninja</p>
      <p>🏆 50,001+ XP → CGL Maths Master</p>
    </div>
  </section>

  <!-- NAV -->
  <div class="bottom-nav">
    <button onclick="showPage('maths', this)" class="active">📘<span style="font-size:.8em;">Maths</span></button>
    <button onclick="showPage('daily', this)">📅<span style="font-size:.8em;">Daily</span></button>
    <button onclick="showPage('trophy', this)">🏆<span style="font-size:.8em;">Trophy</span></button>
  </div>

  <script>
    // -------------------
    // STATE
    // -------------------
    let points = +localStorage.getItem("points") || 0;
    let streak = +localStorage.getItem("streak") || 0;
    let lastDate = localStorage.getItem("lastDate") || "";
    let mathsProgress = +localStorage.getItem("mathsProgress") || 0;
    let topicProgress = JSON.parse(localStorage.getItem("topicProgress") || "{}");
    let dailyTasks = JSON.parse(localStorage.getItem("dailyTasks") || "{}");
    let todayXP = +localStorage.getItem("todayXP") || 0;

    const today = new Date().toDateString();
    if(today !== lastDate){
      dailyTasks = {}; 
      todayXP = 0;
      streak++;
      localStorage.setItem("streak", streak);
      localStorage.setItem("lastDate", today);
    }

    // -------------------
    // MATHS TOPICS
    // -------------------
    const TOPICS = ["Average","Algebra","Co-ordinate","Geometry","HCF","Height and Distance","Mensuration","Mixture","Number System","Percentage","Profit and Loss","SI and CI","Statistics","Surds","Trigonometry","TSD","TWP"];
    const topicsDiv = document.getElementById("topics");
    TOPICS.forEach(t=>{
      const row = document.createElement("div");
      row.className="row";
      const count = topicProgress[t]||0;
      row.innerHTML = `<span>${t}</span>
      <span>
        <button class="btn" onclick="addQuestion('${t}')">+Q</button>
        <span class="pill" id="count-${t}">${count}</span>
      </span>`;
      topicsDiv.appendChild(row);
    });

    function addQuestion(topic){
      topicProgress[topic] = (topicProgress[topic]||0)+1;
      points+=10; mathsProgress++;
      document.getElementById("count-"+topic).innerText=topicProgress[topic];
      save();
    }

    // -------------------
    // DAILY TASKS
    // -------------------
    const DAILY = [
      {key:"calc",label:"🧮 Calculation Practice",xp:100},
      {key:"gkVideo",label:"📰 GK Video",xp:300},
      {key:"gkPdf",label:"📄 GK PDF Revise",xp:100},
      {key:"engVideo",label:"🎧 English Video",xp:300},
      {key:"engPdf",label:"📘 English PDF Revise",xp:100},
      {key:"reasoning",label:"🧠 Reasoning Set",xp:100}
    ];

    const dailyDiv = document.getElementById("dailyTasks");
    DAILY.forEach(t=>{
      const row=document.createElement("div");
      row.className="row";
      const done = dailyTasks[t.key];
      row.innerHTML=`<span>${t.label} <span class="pill">+${t.xp} XP</span></span>
        <button id="btn-${t.key}" class="btn">${done?"✅ Done":"Mark Done"}</button>`;
      dailyDiv.appendChild(row);
      document.getElementById("btn-"+t.key).onclick=()=>{
        if(!dailyTasks[t.key]){
          dailyTasks[t.key]=true;
          points+=t.xp;
          todayXP+=t.xp;
          document.getElementById("btn-"+t.key).innerText="✅ Done";
          save();
        }
      }
    });

    function updateDailyBar(){
      const done = DAILY.filter(t=>dailyTasks[t.key]).length;
      const bar=document.getElementById("dailyBar");
      const pct=Math.round(done/DAILY.length*100);
      bar.style.width=pct+"%";
      bar.innerText=done+"/"+DAILY.length;
      document.getElementById("todayXP").innerText=todayXP;
    }

    // -------------------
    // GENERAL
    // -------------------
    function addXP(x){ points+=x; save(); }
    function resetProgress(){ if(confirm("Reset all progress?")){localStorage.clear();location.reload();} }

    function updateRank(){
      let rank="Apprentice 🥉";
      if(points>50000)rank="CGL Maths Master 🏆";
      else if(points>25000)rank="Shortcut Ninja 🥷";
      else if(points>10000)rank="Speed Solver ⚡";
      document.getElementById("rankText").innerText=rank;
    }

    function save(){
      localStorage.setItem("points", points);
      localStorage.setItem("streak", streak);
      localStorage.setItem("mathsProgress", mathsProgress);
      localStorage.setItem("topicProgress", JSON.stringify(topicProgress));
      localStorage.setItem("dailyTasks", JSON.stringify(dailyTasks));
      localStorage.setItem("todayXP", todayXP);
      document.getElementById("points").innerText=points;
      document.getElementById("pointsRank").innerText=points;
      document.getElementById("streak").innerText=streak;
      document.getElementById("mathsBar").style.width=Math.min(mathsProgress/50*100,100)+"%";
      document.getElementById("mathsBar").innerText=Math.min(mathsProgress,50)+"/50";
      updateDailyBar();
      updateRank();
    }

    function showPage(id,btn){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('.bottom-nav button').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
    }

    save();
  </script>
</body>
</html>
    
