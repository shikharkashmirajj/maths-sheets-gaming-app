<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daily GK + English + Calc Tracker</title>
  <meta name="theme-color" content="#0f172a" />
  <style>
    :root { --bg:#f5f5f5; --ink:#0f172a; --card:#fff; --brand:#1e293b; --ok:#4CAF50; --warn:#e63946; }
    body { font-family: Arial, sans-serif; background:var(--bg); margin:0; text-align:center; padding-bottom:80px; }
    h1 { background:var(--ink); color:#fff; margin:0; padding:14px; font-size:20px;}
    .page { display:none; padding:12px 10px 70px; }
    .page.active { display:block; }
    .card { background:var(--card); margin:12px auto; padding:16px; width:min(720px,90%); border-radius:14px; box-shadow:0 2px 8px rgba(0,0,0,0.08); text-align:left; }
    .row { display:flex; justify-content:space-between; align-items:center; margin:8px 0; }
    .progress-container { margin:10px 0; background:#e5e7eb; height:20px; border-radius:10px; overflow:hidden; }
    .progress-bar { height:100%; width:0%; background:var(--ok); color:#fff; font-size:12px; line-height:20px; text-align:center; }
    .btn { border:none; border-radius:8px; padding:6px 12px; font-weight:700; cursor:pointer; color:#fff; background:var(--ok); }
    .btn.warn { background:var(--warn); }
    .btn:disabled { opacity:.65; cursor:default; }
    .pill { font-size:12px; background:#eef2ff; color:#334155; padding:4px 8px; border-radius:999px; }
    .big { font-size:18px; font-weight:700; }
    .bottom-nav { position:fixed; bottom:0; left:0; width:100%; background:var(--brand); display:flex; justify-content:space-around; padding:10px 0; box-shadow:0 -2px 6px rgba(0,0,0,.25); }
    .bottom-nav button { background:none; border:none; color:#fff; cursor:pointer; display:flex; flex-direction:column; align-items:center; }
    .bottom-nav button.active { color:var(--ok); font-weight:700; }
    .timer { font-variant-numeric: tabular-nums; font-weight:700; }
  </style>
</head>
<body>
  <h1>ğŸ“š Daily Study Tracker</h1>

  <!-- DASHBOARD -->
  <section id="dashboard" class="page active">
    <div class="card">
      <div>â­ XP: <span class="big" id="points">0</span></div>
      <div>ğŸ”¥ Streak: <span id="streak">0</span> days</div>
      <h3 style="margin:12px 0 6px;">ğŸ¯ Daily Progress (5 tasks)</h3>
      <div class="progress-container"><div id="dailyBar" class="progress-bar">0/5</div></div>
    </div>

    <div class="card">
      <div class="row"><span>ğŸ§® 15-min Calculation Practice</span><span class="pill">+150 XP</span></div>
      <div class="row"><span id="calcTimer" class="timer">15:00</span><button id="btn-calcStart" class="btn">Start</button><button id="btn-calcDone" class="btn" disabled>Mark Done</button></div>
      <hr/>
      <div class="row"><span>ğŸ“° GK Video Complete</span><span class="pill">+100 XP</span></div>
      <div class="row"><button id="btn-gkVideo" class="btn">Mark Done</button></div>
      <hr/>
      <div class="row"><span>ğŸ“„ GK PDF Revise</span><span class="pill">+80 XP</span></div>
      <div class="row"><button id="btn-gkPdf" class="btn">Mark Done</button></div>
      <hr/>
      <div class="row"><span>ğŸ§ English Video Complete</span><span class="pill">+100 XP</span></div>
      <div class="row"><button id="btn-engVideo" class="btn">Mark Done</button></div>
      <hr/>
      <div class="row"><span>ğŸ“˜ English PDF Revise</span><span class="pill">+80 XP</span></div>
      <div class="row"><button id="btn-engPdf" class="btn">Mark Done</button></div>
    </div>

    <div class="card" style="text-align:center;">
      <button class="btn warn" onclick="resetProgress()">ğŸ”„ Reset All Progress</button>
    </div>
  </section>

  <!-- RANK -->
  <section id="rankPage" class="page">
    <div class="card" style="text-align:center;">
      <div class="big">ğŸ† <span id="rankText">Loading...</span></div>
      <div>Total XP: <strong id="pointsRank">0</strong></div>
    </div>
    <div class="card">
      <h3>Rank Ladder</h3>
      <p>ğŸ¥‰ 0â€“5,000 XP â†’ Apprentice</p>
      <p>âš¡ 5,001â€“15,000 XP â†’ Speed Solver</p>
      <p>ğŸ¥· 15,001â€“30,000 XP â†’ Shortcut Ninja</p>
      <p>ğŸ† 30,001+ XP â†’ CGL Master</p>
    </div>
  </section>

  <!-- NAV -->
  <div class="bottom-nav">
    <button onclick="showPage('dashboard', this)" class="active">ğŸ <span style="font-size:.8em;">Dashboard</span></button>
    <button onclick="showPage('rankPage', this)">ğŸ†<span style="font-size:.8em;">Rank</span></button>
  </div>

  <script>
    // XP values
    const XP = { calc:150, gkVideo:100, gkPdf:80, engVideo:100, engPdf:80 };
    const TASKS = ["calc","gkVideo","gkPdf","engVideo","engPdf"];
    const CALC_TIME = 15*60; // seconds

    // State
    let points = +localStorage.getItem("points") || 0;
    let streak = +localStorage.getItem("streak") || 0;
    let lastDate = localStorage.getItem("lastDate") || "";
    let daily = JSON.parse(localStorage.getItem("daily")||"{}");
    let calcEnd = +localStorage.getItem("calcEnd") || 0;

    const today = new Date().toDateString();
    if (today !== lastDate) {
      daily = {};
      streak++;
      localStorage.setItem("streak", streak);
      localStorage.setItem("lastDate", today);
    }

    // Helpers
    function save(){ 
      localStorage.setItem("points", points);
      localStorage.setItem("daily", JSON.stringify(daily));
      localStorage.setItem("calcEnd", calcEnd);
      document.getElementById("points").innerText=points;
      document.getElementById("pointsRank").innerText=points;
      document.getElementById("streak").innerText=streak;
      updateDaily();
      updateRank();
    }
    function complete(key){
      if(daily[key])return;
      daily[key]=true;
      points+=XP[key];
      save();
      const btn=document.getElementById("btn-"+key);
      if(btn){btn.innerText="âœ… Done";btn.disabled=true;}
      alert("+"+XP[key]+" XP!");
    }
    function updateDaily(){
      const done=TASKS.filter(k=>daily[k]).length;
      const bar=document.getElementById("dailyBar");
      const pct=Math.round(done/TASKS.length*100);
      bar.style.width=pct+"%";
      bar.innerText=done+"/"+TASKS.length;
    }
    function updateRank(){
      let rank="Apprentice ğŸ¥‰";
      if(points>30000)rank="CGL Master ğŸ†";
      else if(points>15000)rank="Shortcut Ninja ğŸ¥·";
      else if(points>5000)rank="Speed Solver âš¡";
      document.getElementById("rankText").innerText=rank;
    }
    function resetProgress(){ if(confirm("Reset all progress?")){localStorage.clear();location.reload();} }
    function showPage(id,btn){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelectorAll('.bottom-nav button').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
    }

    // Bind normal tasks
    ["gkVideo","gkPdf","engVideo","engPdf"].forEach(k=>{
      const btn=document.getElementById("btn-"+k);
      if(daily[k]){btn.innerText="âœ… Done";btn.disabled=true;}
      btn.addEventListener("click",()=>complete(k));
    });

    // Calc timer
    const timerEl=document.getElementById("calcTimer");
    const btnStart=document.getElementById("btn-calcStart");
    const btnDone=document.getElementById("btn-calcDone");

    if(daily.calc){btnStart.disabled=btnDone.disabled=true;timerEl.innerText="âœ… Done";}
    else if(calcEnd> Date.now()){runCountdown(calcEnd);}
    else{btnDone.disabled=true;}

    btnStart.onclick=()=>{
      calcEnd=Date.now()+CALC_TIME*1000;
      localStorage.setItem("calcEnd",calcEnd);
      runCountdown(calcEnd);
      btnStart.disabled=true;btnDone.disabled=true;
    }
    btnDone.onclick=()=>{complete("calc");calcEnd=0;localStorage.setItem("calcEnd",0);btnStart.disabled=btnDone.disabled=true;timerEl.innerText="âœ… Done";}

    function runCountdown(end){
      const int=setInterval(()=>{
        const remain=Math.max(0,end-Date.now());
        const sec=Math.ceil(remain/1000);
        const m=String(Math.floor(sec/60)).padStart(2,'0');
        const s=String(sec%60).padStart(2,'0');
        timerEl.innerText=`${m}:${s}`;
        if(sec<=0){clearInterval(int);btnDone.disabled=false;}
      },500);
    }

    save();
  </script>
</body>
</html>
          
